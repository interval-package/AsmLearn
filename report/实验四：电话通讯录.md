# 实验四：电话通讯录

## 设计说明

### 需求分析

在本次实验中，要求基于汇编语言实现一个带有名字与电话信息的通讯录。

有以下要求：

- 表项保存两个主要内容，电话号码与用户姓名。
- 检测电话号码的长度，如果不满足8位则拒绝输入。
- 将记录的姓名，按照字典序进行排序。
- 用户可以通过查询姓名，获得电话号码。

## 算法设计

- 在本实验中，我们使用两个表来存放电话与姓名。
- 电话表按照输入顺序进行存放，不进行修改，而姓名表的插入的时候进行重排插入。
- 为了使得姓名表能够与电话表进行匹配，我们在姓名表的表项中加入了其对应电话号码在电话表里面的位序。
- 在插入姓名的时候，我们先对姓名表进行一次遍历，找到对应的位置，然后插入到该位置，该位置之后的内容向后移动。

### 程序框图

`core_sort_input`

核心算法函数，排序插入函数，找到姓名在表中对应的位置，然后插入，之后，后面的内容全部向后移动一位。

`input_add_item`

在添加信息阶段，显示提示输入信息，并且接受信息，判断有效性，调用排序插入。

`core_search`

核心函数，查询阶段的搜索函数，会遍历姓名表，获得查找结果。

如果查找成功打印姓名，并且根据索引再查找电话号码，打印电话号码。

`input_search`

在查询阶段，提示输入将要查询的信息。

`compare_name`

姓名比较函数，按照字典序进行比较。

`swap_name`

将缓冲区的内容与目标id处的姓名进行交换。

`save_tel`

保存电话信息，先进行电话号码有效性的判断。

`locate_tel_id`

传入一个数字，将该数字对应索引的电话号码地址返回。

`locate_name_id`

传入一个数字，将该数字对应索引的姓名地址返回。

`disp_total_info`

遍历所有的表，打印遍历内容。

`next_phase`

下一阶段判断函数，检测用户键盘输入，判断下一阶段进行何种功能。

`inputf`

输入函数，传入地址于ax，提示输入，然后将内容放到地址处。

`disp_num`

显示函数，将数据以十进制的形式打印到终端。

`printf`

显示函数，用于在终端打印目标输出。

------

![](D:\Coding\AsmProjects\Dos_Env\pics\tel逻辑.png)

## 运行结果

### 概览

### 结果分析

程序运行稳定，功能丰富多样，符合设计需求。

## 程序清单

### 源代码

## 总结

### 实验心得

在本次实验中实现了电话通讯簿的功能，深度了解了汇编语言的编写过程，了解了字符串的操作与处理与数据io的操作。